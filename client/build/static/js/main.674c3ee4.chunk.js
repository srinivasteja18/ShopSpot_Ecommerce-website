(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{23:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(12),r=c.n(n),s=c(4),i=c(5),o=c(6),l=c(7),d="http://localhost:7000/api/",j=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND:"http://localhost:7000/api/",REACT_APP_PUBLISHKEY:"pk_test_51K1PubSD7AAz9aiNiXsV1I2BloumO8v138fPpHs6mseVQ8vWXakmIA3GbxPGYLCbZmPXIvOxp6eIHYXFHH1K1Vg8006Q3iAmDy"}).PUBLISHKEY,function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))}),u=c(1),b=function(){var e=Object(i.g)();return Object(u.jsx)("div",{className:"header",children:Object(u.jsxs)("div",{className:"nav-helper",children:[Object(u.jsx)("h1",{children:"ShopSpot"}),Object(u.jsxs)("ul",{className:"nav-list",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/cart",children:"Cart"})}),j()&&0===j().user.role&&Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/user/dashboard",children:"U DashBoard"})}),j()&&1===j().user.role&&Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/admin/dashboard",children:"A DashBoard"})}),j()?Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("span",{style:{color:"white",cursor:"pointer"},className:"nav-link",onClick:function(){!function(e){if(void 0!==typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(d,"/signout"),{method:"GET"}).then((function(e){return console.log("Signout Successfull",e)})).catch((function(e){return console.log("signout failed!!",e)}))}((function(){Object(o.b)("Signout Successful!!",{type:"success"}),e("/")}))},children:[" ","SignOut"]})}):Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/signup",children:"SignUp"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/signin",children:"SignIn"})})]})]})]})})},m=function(e){var t=e.title,c=void 0===t?"Homepage":t,a=e.description,n=void 0===a?"Welcome":a,r=e.children;return Object(u.jsxs)("div",{className:"main-page",children:[Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"base-section",children:[Object(u.jsxs)("div",{className:"base-header",children:[Object(u.jsx)("h1",{className:"base-header-title",children:c}),Object(u.jsx)("p",{className:"base-header-desciption",children:n})]}),r]}),Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)("h4",{children:"Designed by @srinivasteja18"})})]})},h=c(3),p=function(){if(void 0!==typeof window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))},O=function(e){var t=e.product,c=Object(i.g)(),n=Object(a.useState)(!1),r=Object(l.a)(n,2),s=r[0],o=r[1],j=Object(a.useState)(t.count),b=Object(l.a)(j,2),m=b[0],p=b[1];return Object(u.jsxs)("div",{className:"card",children:[function(e){e&&c("/cart")}(s),Object(u.jsx)("div",{className:"card-image-div",children:Object(u.jsx)("img",{alt:"product",src:"".concat(d,"products/photo/").concat(t._id)})}),Object(u.jsxs)("div",{className:"card-details",children:[Object(u.jsx)("h2",{className:"card-name",children:t.name}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"card-price",children:"Price:"})," ",t.price]}),Object(u.jsxs)("p",{className:"card-description",children:[Object(u.jsx)("span",{className:"card-price",children:"Description: "}),t.description]}),Object(u.jsx)("button",{onClick:function(){!function(e,t){var c=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(h.a)(Object(h.a)({},e),{},{item:e,count:1})),localStorage.setItem("cart",JSON.stringify(c)),t())}(t,(function(){o(!0),p(m)}))},className:"card-buttons",children:"Add to Cart"})]})]})},x=function(){return fetch("".concat(d,"categories"),{method:"GET"}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))},f=function(){return fetch("".concat(d,"products"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function g(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){f().then((function(e){e.error?console.log("Fetching products Failed!",e.error):n(e)}))}),[]),Object(u.jsx)(m,{title:"Homepage",children:Object(u.jsx)("div",{className:"home-container",children:c&&c.map((function(e,t){return Object(u.jsx)(O,{product:e},t)}))})})}c(23);var N=c(9),v=c(10),y=c(13),S=function(){var e=Object(i.g)(),t=Object(a.useState)({email:"",password:"",error:"",loading:"",didRedirect:""}),c=Object(l.a)(t,2),n=c[0],r=c[1],s=n.email,b=n.password,p=n.didRedirect,O=j().user,x=function(e){return function(t){r(Object(h.a)(Object(h.a)({},n),{},Object(N.a)({error:!1},e,t.target.value)))}};return Object(u.jsxs)(m,{title:"Signin Page",children:[Object(u.jsxs)("form",{className:"auth-card",children:[Object(u.jsx)("h2",{children:"SignIn"}),Object(u.jsxs)("div",{className:"auth-helper",children:[Object(u.jsx)("label",{className:"auth-labels",children:"Email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:s,onChange:x("email"),className:"auth-inputs",type:"email",required:!0}),Object(u.jsx)(v.a,{className:"auth-icons"})]}),Object(u.jsxs)("div",{className:"auth-helper",children:[Object(u.jsx)("label",{className:"auth-labels",children:"Password"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:b,onChange:x("password"),className:"auth-inputs",type:"password",required:!0}),Object(u.jsx)(y.a,{className:"auth-icons"})]}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),r(Object(h.a)(Object(h.a)({},n),{},{error:!1,loading:!0})),function(e){return fetch("".concat(d,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:s,password:b}).then((function(e){e.error?(r(Object(h.a)(Object(h.a)({},n),{},{error:e.error,loading:!1})),Object(o.b)("User Account not found!! Please Signup",{type:"warning"})):function(e,t){void 0!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){r(Object(h.a)(Object(h.a)({},n),{},{email:"",password:"",error:"",loading:"",didRedirect:!0}))}))})).catch((function(e){return Object(o.b)("SignIn Failed, Please check your Details",{type:"error"})}))},className:"auth-button",children:"SignIn"})]}),Object(u.jsxs)("p",{className:"auth-text",children:["Didn't have an account?"," ",Object(u.jsxs)("span",{onClick:function(){e("/signup")},className:"auth-span",children:[" ","SignUp here"]})]}),function(){if(p)return O&&1===O.role?e("/admin/dashboard"):(console.log("COMEON"),e("/user/dashboard"));j()&&(console.log("GO GO"),e("/"))}()]})},C=c(14),k=function(){var e=Object(i.g)(),t=Object(a.useState)({name:"",email:"",password:"",error:"",success:!1}),c=Object(l.a)(t,2),n=c[0],r=c[1],s=n.name,j=n.email,b=n.password,p=function(e){return function(t){r(Object(h.a)(Object(h.a)({},n),{},Object(N.a)({error:!1},e,t.target.value)))}},O=function(t){var c;t.preventDefault(),r(Object(h.a)(Object(h.a)({},n),{},{error:!1})),(c={name:s,email:j,password:b},fetch("".concat(d,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(t){t.error?(r(Object(h.a)(Object(h.a)({},n),{},{error:t.error,success:!1})),Object(o.b)(t.error,{type:"error"})):(r({name:"",email:"",password:"",error:"",success:!0}),Object(o.b)("Signup Successful, Please signin",{type:"success"}),e("/signin"))})).catch((function(e){return console.log("Error in SignUp",e)}))};return Object(u.jsxs)(m,{title:"Signup Page",className:"body",children:[Object(u.jsxs)("form",{className:"auth-card",children:[Object(u.jsx)("h2",{children:"SignUp"}),Object(u.jsxs)("div",{className:"auth-helper",children:[Object(u.jsx)("label",{className:"auth-labels",children:"Name"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{onChange:p("name"),className:"auth-inputs prfl",type:"text",required:!0,value:s}),Object(u.jsx)(C.a,{className:"auth-icons"})]}),Object(u.jsxs)("div",{className:"auth-helper",children:[Object(u.jsx)("label",{className:"auth-labels",children:"Email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{onChange:p("email"),className:"auth-inputs",type:"email",required:!0,value:j}),Object(u.jsx)(v.a,{className:"auth-icons"})]}),Object(u.jsxs)("div",{className:"auth-helper",children:[Object(u.jsx)("label",{className:"auth-labels",children:"Password"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{onChange:p("password"),className:"auth-inputs",type:"password",required:!0,value:b}),Object(u.jsx)(y.a,{className:"auth-icons"})]}),Object(u.jsx)("button",{onClick:O,className:"auth-button",children:"SignUp"})]}),Object(u.jsxs)("p",{className:"auth-text",children:["Already an User?"," ",Object(u.jsxs)("span",{onClick:function(){e("/signin")},className:"auth-span",children:[" ","SignIn here"]})]})]})},A=(c(24),function(){var e=j().user,t=e.name,c=e.email;return Object(u.jsx)(m,{title:"AdminDashBoard",description:"Welcome! Manage your Products and Categories",children:Object(u.jsx)("div",{className:"middle-section",children:Object(u.jsxs)("div",{className:"admin-card",children:[Object(u.jsxs)("div",{className:"admin-left",children:[Object(u.jsx)("h2",{children:"Admin Navigation"}),Object(u.jsxs)("ul",{className:"admin-list",children:[Object(u.jsx)("li",{className:"admin-item",children:Object(u.jsx)(s.b,{className:"admin-link",to:"/admin/category/create",children:"Create Categories"})}),Object(u.jsx)("li",{className:"admin-item",children:Object(u.jsx)(s.b,{className:"admin-link",to:"/admin/categories",children:"Manage Categories"})}),Object(u.jsx)("li",{className:"admin-item",children:Object(u.jsx)(s.b,{className:"admin-link",to:"/admin/product/create",children:"Create products"})}),Object(u.jsx)("li",{className:"admin-item",children:Object(u.jsx)(s.b,{className:"admin-link",to:"/admin/orders",children:"Manage Orders"})}),Object(u.jsx)("li",{className:"admin-item",children:Object(u.jsx)(s.b,{className:"admin-link",to:"/admin/products",children:"Manage products"})})]})]}),Object(u.jsxs)("div",{className:"admin-right",children:[Object(u.jsx)("h2",{children:"Admin Information"}),Object(u.jsxs)("ul",{className:"admin-info-list",children:[Object(u.jsx)("li",{className:"admin-info-item",children:Object(u.jsxs)("p",{className:"admin-info",children:[Object(u.jsx)("span",{className:"admin-span",children:"Name:"})," ",t]})}),Object(u.jsx)("li",{className:"admin-info-item",children:Object(u.jsxs)("p",{className:"admin-info",children:[Object(u.jsx)("span",{className:"admin-span",children:"Email:"})," ",c]})}),Object(u.jsx)("li",{className:"admin-info-item",children:Object(u.jsx)("p",{className:"admin-info",children:Object(u.jsx)("span",{className:"admin-span-2",children:"Admin Info"})})})]})]})]})})})}),P=function(){var e=j().user,t=e.name,c=e.email;return Object(u.jsx)(m,{title:"User DashBoard",description:"Welcome! view your profile here",children:Object(u.jsx)("div",{className:"middle-section",children:Object(u.jsxs)("div",{className:"admin-card",children:[Object(u.jsxs)("div",{className:"admin-left",children:[Object(u.jsx)("h2",{children:"User Navigation"}),Object(u.jsxs)("ul",{className:"admin-list",children:[Object(u.jsx)("li",{className:"admin-item",children:Object(u.jsx)(s.b,{className:"admin-link",to:"/user/update",children:"Update Profile"})}),Object(u.jsx)("li",{className:"admin-item",children:Object(u.jsx)(s.b,{className:"admin-link",to:"/user/orders",children:"My Orders"})})]})]}),Object(u.jsxs)("div",{className:"admin-right",children:[Object(u.jsx)("h2",{children:"User Information"}),Object(u.jsxs)("ul",{className:"admin-info-list",children:[Object(u.jsxs)("li",{className:"admin-info-item",children:[Object(u.jsx)(C.a,{className:"info"}),t]}),Object(u.jsxs)("li",{className:"admin-info-item",children:[Object(u.jsx)(v.a,{className:"info"}),c]}),Object(u.jsx)("li",{className:"admin-info-item",children:Object(u.jsx)("p",{className:"admin-info",children:Object(u.jsx)("span",{className:"admin-span-2",children:"User Info"})})})]})]})]})})})},E=function(e){var t=e.children;return j()?t:Object(u.jsx)(i.a,{to:"/signin"})},w=function(e){var t=e.children;return j()&&1===j().user.role?t:Object(u.jsx)(i.a,{to:"/signin"})},D=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],r=j(),i=r.user,b=r.token,h=function(e){n(e.target.value)},p=function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(d,"category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(i._id,b,{name:c}).then((function(e){return e.error?Object(o.b)(e.error,{type:"warning"}):Object(o.b)("Catgeory added Succefully",{type:"success"})}))};return Object(u.jsx)(m,{title:"Create Catgeory",description:"Add more categories below",children:Object(u.jsx)("div",{className:"middle-section",children:Object(u.jsx)("div",{className:"catgeory-section",children:Object(u.jsxs)("form",{className:"category-form",children:[Object(u.jsx)("p",{className:"category-label",children:"Add Category"}),Object(u.jsx)("input",{className:"category-input",type:"text",placeholder:"For Ex: Summer",onChange:h,value:c}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:[Object(u.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"}),Object(u.jsx)("button",{onClick:p,className:"category-button",children:"ADD"})]})]})})})})},I=c(11),T=function(){var e=Object(I.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=j(),r=n.user,i=n.token,b=function(){x().then((function(e){e.error?console.log(e.error):a(e)}))};Object(I.useEffect)((function(){b()}),[]);var h=function(e){(function(e,t,c){return fetch("".concat(d,"category/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))})(e,r._id,i).then((function(e){e.error?(console.log(e.error),Object(o.b)("Category Delete Failed!!",{type:"error"})):(Object(o.b)("Category Deleted Succesfully",{type:"success"}),b())}))};return Object(u.jsx)(m,{title:"Manage Categories",description:"View and manage your categories",children:Object(u.jsxs)("div",{className:"categories-section",children:[Object(u.jsx)("h2",{children:"All Categories"}),Object(u.jsx)("div",{className:"categories-container",children:c&&c.map((function(e,t){return Object(u.jsxs)("div",{className:"category-card",children:[Object(u.jsxs)("p",{className:"category-name",children:[Object(u.jsx)("span",{children:"Category Name: "}),e.name]}),Object(u.jsxs)("div",{className:"category-buttons",children:[Object(u.jsx)(s.b,{to:"/admin/update/category/".concat(e._id),className:"button",children:"Update"}),Object(u.jsx)("button",{onClick:function(){return h(e._id)},className:"button",children:"Delete"})]})]},t)}))}),Object(u.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"})]})})},_=function(){var e=j(),t=e.user,c=e.token,n=Object(i.g)(),r=Object(a.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",loading:!1,error:"",createdProduct:"",getRedirect:!1,formData:new FormData}),b=Object(l.a)(r,2),p=b[0],O=b[1],f=p.name,g=p.description,v=p.price,y=p.stock,S=p.categories,C=p.getRedirect,k=p.formData;Object(a.useEffect)((function(){x().then((function(e){e.error?O(Object(h.a)(Object(h.a)({},p),{},{error:e.error})):O(Object(h.a)(Object(h.a)({},p),{},{categories:e}))}))}),[]);var A=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;k.set(e,c),O(Object(h.a)(Object(h.a)({},p),{},Object(N.a)({error:!1,getRedirect:!1},e,c)))}},P=function(e){e.preventDefault(),O(Object(h.a)(Object(h.a)({},p),{},{loading:!0,getRedirect:!1})),function(e,t,c){return fetch("".concat(d,"product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,c,k).then((function(e){e.error?(O(Object(h.a)(Object(h.a)({},p),{},{error:e.error,loading:!1})),Object(o.b)("Product Added Failed",{type:"error"})):O(Object(h.a)(Object(h.a)({},p),{},{name:"",description:"",stock:"",price:"",category:"",loading:!1,createdProduct:e.name,photo:"",getRedirect:!0}))}))};return Object(u.jsx)(m,{title:"Create Products",description:"add new and cool products",children:Object(u.jsxs)("div",{className:"middle-section",children:[void(C&&(Object(o.b)("Product Added Succesfully",{type:"success"}),setTimeout((function(){return n("/admin/dashboard")}),4e3))),Object(u.jsxs)("div",{style:{textAlign:"center"},children:[Object(u.jsxs)("form",{className:"product-form",children:[Object(u.jsx)("h2",{children:"Add a new Product"}),Object(u.jsxs)("div",{className:"product-form-container",children:[Object(u.jsx)("input",{className:"product-form-image-input",id:"product-image",type:"file",name:"image",placeholder:"Choose a file",accept:"image",onChange:A("photo")}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"product-form-input",placeholder:"Product Name",value:f,type:"text",onChange:A("name")}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{name:"Description",className:"text-area product-form-input",value:g,placeholder:"description",onChange:A("description")}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{onChange:A("category"),className:"product-form-input",children:[Object(u.jsx)("option",{children:"Select"}),S&&S.map((function(e,t){return Object(u.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(u.jsx)("input",{type:"number",className:"product-form-input",placeholder:"Price",value:v,onChange:A("price")}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"number",placeholder:"stock",className:"product-form-input",value:y,onChange:A("stock")}),Object(u.jsx)("button",{onClick:P,className:"category-button btn",children:"Add Product"})]})]}),Object(u.jsx)(s.b,{className:"category-button btn",to:"/admin/dashboard",children:"Back to Dashboard"})]})]})})},B=function(){var e=Object(I.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=j(),r=n.user,i=n.token,b=function(){f().then((function(e){e.error?console.log(e.error):a(e)}))};Object(I.useEffect)((function(){b()}),[]);var h=function(e){(function(e,t,c){return fetch("".concat(d,"product/").concat(e,"/").concat(t),{method:"Delete",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,r._id,i).then((function(e){e.error?(console.log(e.error),Object(o.b)("product Delete Failed!!",{type:"error"})):(Object(o.b)("Product Deleted Succesfully",{type:"success"}),b())}))};return Object(u.jsx)(m,{title:"Manage your Products",description:"customize and update your products",children:Object(u.jsxs)("div",{className:"products-section",children:[Object(u.jsx)("h2",{children:"All Products"}),Object(u.jsx)("div",{className:"products-container",children:c&&c.map((function(e,t){return Object(u.jsxs)("div",{className:"product-card",children:[Object(u.jsx)("div",{className:"product-photo-div",children:Object(u.jsx)("img",{alt:"product",src:"".concat(d,"products/photo/").concat(e._id)})}),Object(u.jsxs)("div",{className:"product-details",children:[Object(u.jsxs)("p",{className:"product-detail",children:[Object(u.jsx)("span",{className:"product-property",children:"Name: "}),e.name]}),Object(u.jsxs)("p",{className:"product-detail",children:[Object(u.jsx)("span",{className:"product-property",children:"Description: "}),e.description]}),Object(u.jsxs)("p",{className:"product-detail",children:[Object(u.jsx)("span",{className:"product-property",children:"Stock: "}),e.stock]}),Object(u.jsxs)("p",{className:"product-detail",children:[Object(u.jsx)("span",{className:"product-property",children:"Price: "}),e.price]})]}),Object(u.jsxs)("div",{className:"product-buttons",children:[Object(u.jsx)(s.b,{to:"/admin/update/product/".concat(e._id),className:" product-button",children:"Update"}),Object(u.jsx)("button",{onClick:function(){return h(e._id)},className:" product-button",children:"Delete"})]})]},t)}))}),Object(u.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"})]})})},U=function(e){e.match;var t=j(),c=t.user,n=t.token,r=Object(i.g)(),b=Object(a.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",loading:!1,error:"",createdProduct:"",getRedirect:!1,formData:new FormData}),p=Object(l.a)(b,2),O=p[0],f=p[1],g=Object(i.h)().productId,v=O.name,y=O.description,S=O.price,C=O.stock,k=O.categories,A=O.getRedirect,P=O.formData,E=function(e){(function(e){return fetch("".concat(d,"products/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?f(Object(h.a)(Object(h.a)({},O),{},{error:e.error})):(w(),f(Object(h.a)(Object(h.a)({},O),{},{name:e.name,description:e.description,stock:e.stock,price:e.price,category:e.category,categories:e.categories,formData:new FormData})))}))},w=function(){x().then((function(e){e.error?f(Object(h.a)(Object(h.a)({},O),{},{error:e.error})):f({categories:e,formData:new FormData})}))};Object(a.useEffect)((function(){E(g)}),[]);var D=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;P.set(e,c),f(Object(h.a)(Object(h.a)({},O),{},Object(N.a)({error:!1,getRedirect:!1},e,c)))}},I=function(e){e.preventDefault(),f(Object(h.a)(Object(h.a)({},O),{},{loading:!0,getRedirect:!1})),function(e,t,c,a){return fetch("".concat(d,"product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(g,c._id,n,P).then((function(e){console.log(e),e.error?(f(Object(h.a)(Object(h.a)({},O),{},{error:e.error,loading:!1})),Object(o.b)("Product Update Failed",{type:"error"})):f(Object(h.a)(Object(h.a)({},O),{},{name:"",description:"",stock:"",price:"",category:"",loading:!1,createdProduct:e.name,photo:"",getRedirect:!0}))}))};return Object(u.jsx)(m,{title:"Update Products",description:"update and customize products",children:Object(u.jsxs)("div",{className:"middle-section",children:[void(A&&(Object(o.b)("Product Added Succesfully",{type:"success"}),setTimeout((function(){return r("/admin/dashboard")}),4e3))),Object(u.jsxs)("form",{className:"product-form",children:[Object(u.jsx)("h2",{children:"Update The Product"}),Object(u.jsxs)("div",{className:"product-form-container",children:[Object(u.jsx)("input",{className:"product-form-image-input",id:"product-image",type:"file",name:"image",placeholder:"Choose a file",accept:"image",onChange:D("photo")}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"product-form-input",placeholder:"Product Name",value:v,type:"text",onChange:D("name")}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{name:"Description",className:"text-area product-form-input",value:y,placeholder:"description",onChange:D("description")}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{onChange:D("category"),className:"product-form-input",children:[Object(u.jsx)("option",{children:"Select"}),k&&k.map((function(e,t){return Object(u.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(u.jsx)("input",{type:"number",className:"product-form-input",placeholder:"Price",value:S,onChange:D("price")}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"number",placeholder:"stock",className:"product-form-input",value:C,onChange:D("stock")}),Object(u.jsx)("button",{onClick:I,className:"category-button btn",children:"Update Product"})]}),Object(u.jsx)(s.b,{className:"category-button",to:"/admin/dashboard",children:"Back to Dashboard"})]})]})})},R=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(i.h)().categoryId,b=j(),h=b.user,p=b.token,O=Object(i.g)(),x=function(e){n(e.target.value)},f=function(e){(function(e){return fetch("".concat(d,"category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?console.log(e.error):(console.log(e),n(e.name))}))};Object(a.useEffect)((function(){f(r)}),[]);var g=function(e){e.preventDefault(),n(c),function(e,t,c,a){return fetch("".concat(d,"category/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(r,h._id,p,{name:c}).then((function(e){if(e.error)return Object(o.b)(e.error,{type:"error"});n(""),Object(o.b)("Catgeory updated Succefully",{type:"success"}),O("/admin/categories")}))};return Object(u.jsx)(m,{title:"Update Catgeory",description:"Update the category below",children:Object(u.jsx)("div",{className:"middle-section",children:Object(u.jsx)("div",{className:"catgeory-section",children:Object(u.jsxs)("form",{className:"category-form",children:[Object(u.jsx)("p",{className:"category-label",children:"Update Category"}),Object(u.jsx)("input",{className:"category-input",type:"text",placeholder:"For Ex: Summer",onChange:x,value:c}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:[Object(u.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"}),Object(u.jsx)("button",{onClick:g,className:"category-button",children:"Update"})]})]})})})})},F=c(17),J=c.n(F),H=c.p+"static/media/empty.735c15b1.png",z=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),b=i[0],h=i[1],O=j()&&j().token,x=j()&&j().user._id;Object(a.useEffect)((function(){n(p())}),[]),Object(a.useEffect)((function(){n(p())}),[b]);var f=function(e){console.log("REMOVE ITEM"),function(e){var t=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart")));for(var c=0;c<t.length;c++)t[c]._id===e&&t.splice(c,1);localStorage.setItem("cart",JSON.stringify(t))}}(e),h(!b)},g=function(){var e=0;return c.forEach((function(t){e+=t.price})),e},N=function(e){console.log(e);var t={token:e,products:c};return fetch("".concat(d,"stripepayment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json().then((function(e){var t;t=function(){console.log("Cart Emptied")},void 0!==typeof window&&localStorage.getItem("cart")&&(localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify([])),t()),Object(o.b)("Order Placed Succesfully !!",{type:"success"});var a={transaction_id:e.id,products:c,amount:e.amount,user:x};!function(e,t,c){fetch("".concat(d,"order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})})}(x,O,a),h(!b)}))}))};return Object(u.jsx)(m,{title:"Cart",description:"Checkout your Orders",children:Object(u.jsx)("div",{className:"cart-section",children:c.length?Object(u.jsxs)("div",{className:"cart-section",children:[Object(u.jsxs)("div",{className:"orders",children:[c&&c.map((function(e,t){return Object(u.jsxs)("div",{className:"cart-card",children:[Object(u.jsxs)("div",{className:"helper",children:[Object(u.jsx)("div",{className:"cart-card-image-div",children:Object(u.jsx)("img",{alt:"product",src:"".concat(d,"products/photo/").concat(e._id)})}),Object(u.jsxs)("div",{className:"cart-card-details",children:[Object(u.jsx)("h2",{className:"cart-card-name",children:e.name}),Object(u.jsxs)("p",{className:"cart-card-description",children:[Object(u.jsx)("span",{className:"cart-card-span",children:"Description: "}),e.description]})]})]}),Object(u.jsxs)("div",{className:"cart-card-buttons",children:[Object(u.jsxs)("p",{className:"cart-card-price",children:[e.price,"/-"]}),Object(u.jsxs)("button",{onClick:function(){return f(e._id)},className:"card-buttons cart-card-button",children:["Remove",Object(u.jsx)("span",{children:"h"}),"Item"]})]})]},t)})),Object(u.jsx)(s.b,{to:"/",className:"category-button",children:"Add More"})]}),Object(u.jsxs)("div",{className:"checkout-card",children:[Object(u.jsx)("h2",{children:"Your Order"}),Object(u.jsx)("p",{className:"checkout-summary",children:"Order Summary"}),Object(u.jsxs)("div",{className:"checkout-items",children:[Object(u.jsxs)("div",{className:"checkout-item",children:[Object(u.jsx)("p",{children:"Total Items: "}),Object(u.jsx)("span",{children:c.length})]}),Object(u.jsxs)("div",{className:"checkout-item",children:[Object(u.jsx)("p",{children:"Total Amount: "}),Object(u.jsxs)("span",{children:["Rs. ",g()]})]})]}),Object(u.jsx)(J.a,{stripeKey:"".concat("pk_test_51K1PubSD7AAz9aiNiXsV1I2BloumO8v138fPpHs6mseVQ8vWXakmIA3GbxPGYLCbZmPXIvOxp6eIHYXFHH1K1Vg8006Q3iAmDy"),token:N,shippingAddress:!0,billingAddress:!0,amount:100*g(),name:"Buy T-shirts",children:Object(u.jsx)("button",{className:"category-button",children:"Proceed to Pay"})})]})]}):Object(u.jsxs)("div",{className:"empty-cart-div",children:[Object(u.jsx)("div",{className:"empty-cart-img-div",style:{margin:"0 auto",textAlign:"center"},children:Object(u.jsx)("img",{alt:"product",src:H})}),Object(u.jsx)(s.b,{style:{margin:"0 auto"},className:"category-button",to:"/",children:"Buy Products"})]})})})},G=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=j(),i=r.user,b=r.token,h=function(){(function(e,t){return fetch("".concat(d,"order/all/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(i._id,b).then((function(e){e.error?Object(o.b)(e.error,{type:"error"}):n(e)}))};Object(a.useEffect)((function(){h()}),[]);return Object(u.jsx)(m,{title:"All Orders",description:"manage and deliver the orders",children:Object(u.jsxs)("div",{className:"products-section",children:[Object(u.jsx)("h2",{children:"All Orders"}),Object(u.jsx)("div",{children:c&&c.map((function(e,t){return Object(u.jsx)("div",{className:"orders-container",children:e.products.map((function(t,c){return Object(u.jsxs)("div",{className:"order-card",children:[Object(u.jsx)("div",{className:"product-photo-div",children:Object(u.jsx)("img",{alt:"product",src:"".concat(d,"products/photo/").concat(t._id)})}),Object(u.jsxs)("div",{className:"product-details",children:[Object(u.jsx)("p",{className:"order-detail product-detail",children:Object(u.jsx)("span",{className:"product-property",children:t.name})}),Object(u.jsx)("p",{className:"order-detail product-detail",children:Object(u.jsxs)("span",{className:"product-property",children:["Rs. ",e.amount]})})]}),Object(u.jsxs)("div",{className:"delivery-details",children:[Object(u.jsx)("span",{className:"order-delivery",children:"Estimated Delivery: 18 dec 2021"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"This item has been shipped recently"})]})]},c)}))},t)}))}),Object(u.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"})]})})};function M(){var e=j(),t=e.user,c=e.token,n=Object(i.g)(),r=Object(a.useState)({name:"",lastname:"",email:""}),s=Object(l.a)(r,2),b=s[0],p=s[1],O=b.name,x=b.lastname,f=b.email,g=function(){(function(e,t){return fetch("".concat(d,"user/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t._id,c).then((function(e){e.error?Object(o.b)(e.error,{type:"error"}):p(Object(h.a)(Object(h.a)({},b),{},{name:e.name,lastname:e.lastname,email:e.email}))}))};Object(a.useEffect)((function(){g()}),[]);var v=function(e){return function(t){p(Object(h.a)(Object(h.a)({},b),{},Object(N.a)({},e,t.target.value)))}},y=function(){p(Object(h.a)({},b)),function(e,t,c){return fetch("".concat(d,"user/update/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"},body:JSON.stringify(c)}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))}(t._id,c,b).then((function(e){e.error?Object(o.b)(e.error,{type:"error"}):(p(Object(h.a)(Object(h.a)({},b),{},{name:"",lastname:"",email:""})),Object(o.b)("Profile Updated Successfully!!",{type:"success"}),n("/user/dashboard"))}))};return Object(u.jsx)(m,{title:"Profile",description:"Edit your personal Information",children:Object(u.jsx)("div",{className:"profile-container",children:Object(u.jsxs)("div",{className:"profile-card",children:[Object(u.jsxs)("div",{className:"profile-inputs-div",children:[Object(u.jsx)("label",{children:"FirstName"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:O,onChange:v("name"),className:"profile-input",type:"text",required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"LastName"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:x,onChange:v("lastname"),className:"profile-input",type:"text",required:!0})]}),Object(u.jsxs)("div",{className:"profile-email",children:[Object(u.jsx)("label",{children:"Email ID"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:f,onChange:v("email"),className:"profile-input",type:"email",required:!0})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:y,className:"category-button",children:"Update"})})]})})})}var K=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=j(),i=r.user,b=r.token,h=function(){(function(e,t){return fetch("".concat(d,"user/orders/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(i._id,b).then((function(e){e.error?(Object(o.b)(e.error,{type:"error"}),console.log("USER ORDERS ERROR")):n(e)}))};Object(a.useEffect)((function(){h()}),[]);return Object(u.jsx)(m,{title:"My Orders",description:"manage and deliver the orders",children:c.length?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"products-section",children:[Object(u.jsx)("h2",{children:"My Orders"}),Object(u.jsx)("div",{children:c&&c.map((function(e,t){return Object(u.jsx)("div",{className:"orders-container",children:e.products.map((function(t,c){return Object(u.jsxs)("div",{className:"order-card",children:[Object(u.jsx)("div",{className:"order-photo-div",children:Object(u.jsx)("img",{alt:"product",src:"".concat(d,"products/photo/").concat(t._id)})}),Object(u.jsxs)("div",{className:"order-product-details",children:[Object(u.jsx)("p",{className:"order-detail product-detail",children:Object(u.jsx)("span",{className:"product-property",children:t.name})}),Object(u.jsx)("p",{className:"order-detail product-detail",children:Object(u.jsxs)("span",{className:"product-property",children:["Rs. ",e.amount]})})]}),Object(u.jsxs)("div",{className:"delivery-details",children:[Object(u.jsx)("span",{className:"order-delivery",children:"Estimated Delivery: 18 dec 2021"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"This item has been shipped recently"})]})]},c)}))},t)}))}),Object(u.jsx)(s.b,{to:"/user/dashboard",className:"category-button",children:"Back"})]})}):Object(u.jsxs)("div",{className:"empty-cart-div",children:[Object(u.jsx)("div",{className:"empty-cart-img-div",style:{margin:"0 auto",textAlign:"center"},children:Object(u.jsx)("img",{alt:"product",src:H})}),Object(u.jsx)(s.b,{style:{margin:"0 auto"},className:"category-button",to:"/",children:"Buy Products"})]})})};function V(){return Object(u.jsxs)(s.a,{children:[Object(u.jsx)(o.a,{theme:"dark"}),Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{exact:!0,path:"/",element:Object(u.jsx)(g,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/signup",element:Object(u.jsx)(k,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/signin",element:Object(u.jsx)(S,{})}),Object(u.jsx)(i.b,{path:"/cart",element:Object(u.jsx)(E,{children:Object(u.jsx)(z,{})})}),Object(u.jsx)(i.b,{path:"/user/dashboard",element:Object(u.jsx)(E,{children:Object(u.jsx)(P,{})})}),Object(u.jsx)(i.b,{path:"/user/update",element:Object(u.jsx)(E,{children:Object(u.jsx)(M,{})})}),Object(u.jsx)(i.b,{path:"/user/orders",element:Object(u.jsx)(E,{children:Object(u.jsx)(K,{})})}),Object(u.jsx)(i.b,{path:"/admin/dashboard",element:Object(u.jsx)(w,{children:Object(u.jsx)(A,{})})}),Object(u.jsx)(i.b,{path:"/admin/category/create",element:Object(u.jsx)(w,{children:Object(u.jsx)(D,{})})}),Object(u.jsx)(i.b,{path:"/admin/categories",element:Object(u.jsx)(w,{children:Object(u.jsx)(T,{})})}),Object(u.jsx)(i.b,{path:"/admin/product/create",element:Object(u.jsx)(w,{children:Object(u.jsx)(_,{})})}),Object(u.jsx)(i.b,{path:"/admin/products",element:Object(u.jsx)(w,{children:Object(u.jsx)(B,{})})}),Object(u.jsx)(i.b,{path:"/admin/update/product/:productId",element:Object(u.jsx)(w,{children:Object(u.jsx)(U,{})})}),Object(u.jsx)(i.b,{path:"/admin/update/category/:categoryId",element:Object(u.jsx)(w,{children:Object(u.jsx)(R,{})})}),Object(u.jsx)(i.b,{path:"/admin/orders",element:Object(u.jsx)(w,{children:Object(u.jsx)(G,{})})})]})]})}r.a.render(Object(u.jsx)(V,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.674c3ee4.chunk.js.map