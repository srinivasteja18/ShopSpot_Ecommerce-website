(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{24:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(12),r=c.n(n),s=c(4),i=c(5),o=c(6),l=c(7),d=function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},j=c(1),u=function(){var e=Object(i.g)();return Object(j.jsx)("div",{className:"header",children:Object(j.jsxs)("div",{className:"nav-helper",children:[Object(j.jsx)("h1",{children:"ShopSpot"}),Object(j.jsxs)("ul",{className:"nav-list",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/",children:"Home"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/cart",children:"Cart"})}),d()&&0===d().user.role&&Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/user/dashboard",children:"U DashBoard"})}),d()&&1===d().user.role&&Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/admin/dashboard",children:"A DashBoard"})}),d()?Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("span",{style:{color:"white",cursor:"pointer"},className:"nav-link",onClick:function(){!function(e){if(void 0!==typeof window)localStorage.removeItem("jwt"),e(),fetch("/api/signout",{method:"GET"}).then((function(e){return console.log("Signout Successfull",e)})).catch((function(e){return console.log("signout failed!!",e)}))}((function(){Object(o.b)("Signout Successful!!",{type:"success"}),e("/")}))},children:[" ","SignOut"]})}):Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/signup",children:"SignUp"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(s.c,{style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},className:"nav-link",to:"/signin",children:"SignIn"})})]})]})]})})},b=function(e){var t=e.title,c=void 0===t?"Homepage":t,a=e.description,n=void 0===a?"Welcome":a,r=e.children;return Object(j.jsxs)("div",{className:"main-page",children:[Object(j.jsx)(u,{}),Object(j.jsxs)("div",{className:"base-section",children:[Object(j.jsxs)("div",{className:"base-header",children:[Object(j.jsx)("h1",{className:"base-header-title",children:c}),Object(j.jsx)("p",{className:"base-header-desciption",children:n})]}),r]}),Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)("h4",{children:"Designed by @srinivasteja18"})})]})},m=c(3),h=function(){if(void 0!==typeof window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))},p=function(e){var t=e.product,c=Object(i.g)(),n=Object(a.useState)(!1),r=Object(l.a)(n,2),s=r[0],o=r[1],d=Object(a.useState)(t.count),u=Object(l.a)(d,2),b=u[0],h=u[1];return Object(j.jsxs)("div",{className:"card",children:[function(e){e&&c("/cart")}(s),Object(j.jsx)("div",{className:"card-image-div",children:Object(j.jsx)("img",{alt:"product",src:"/api/products/photo/".concat(t._id)})}),Object(j.jsxs)("div",{className:"card-details",children:[Object(j.jsx)("h2",{className:"card-name",children:t.name}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"card-price",children:"Price:"})," ",t.price]}),Object(j.jsxs)("p",{className:"card-description",children:[Object(j.jsx)("span",{className:"card-price",children:"Description: "}),t.description]}),Object(j.jsx)("button",{onClick:function(){!function(e,t){var c=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(m.a)(Object(m.a)({},e),{},{item:e,count:1})),localStorage.setItem("cart",JSON.stringify(c)),t())}(t,(function(){o(!0),h(b)}))},className:"card-buttons",children:"Add to Cart"})]})]})},O=function(){return fetch("/api/categories",{method:"GET"}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))},x=function(){return fetch("/api/products",{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function f(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){x().then((function(e){e.error?console.log("Fetching products Failed!",e.error):n(e)}))}),[]),Object(j.jsx)(b,{title:"Homepage",children:Object(j.jsx)("div",{className:"home-container",children:c&&c.map((function(e,t){return Object(j.jsx)(p,{product:e},t)}))})})}c(24);var g=c(9),N=c(10),v=c(13),y=function(){var e=Object(i.g)(),t=Object(a.useState)({email:"",password:"",error:"",loading:"",didRedirect:""}),c=Object(l.a)(t,2),n=c[0],r=c[1],s=n.email,u=n.password,h=n.didRedirect,p=d().user,O=function(e){return function(t){r(Object(m.a)(Object(m.a)({},n),{},Object(g.a)({error:!1},e,t.target.value)))}};return Object(j.jsxs)(b,{title:"Signin Page",children:[Object(j.jsxs)("form",{className:"auth-card",children:[Object(j.jsx)("h2",{children:"SignIn"}),Object(j.jsxs)("div",{className:"auth-helper",children:[Object(j.jsx)("label",{className:"auth-labels",children:"Email"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{value:s,onChange:O("email"),className:"auth-inputs",type:"email",required:!0}),Object(j.jsx)(N.a,{className:"auth-icons"})]}),Object(j.jsxs)("div",{className:"auth-helper",children:[Object(j.jsx)("label",{className:"auth-labels",children:"Password"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{value:u,onChange:O("password"),className:"auth-inputs",type:"password",required:!0}),Object(j.jsx)(v.a,{className:"auth-icons"})]}),Object(j.jsx)("button",{onClick:function(e){e.preventDefault(),r(Object(m.a)(Object(m.a)({},n),{},{error:!1,loading:!0})),function(e){return fetch("/api/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:s,password:u}).then((function(e){e.error?(r(Object(m.a)(Object(m.a)({},n),{},{error:e.error,loading:!1})),Object(o.b)("User Account not found!! Please Signup",{type:"warning"})):function(e,t){void 0!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){r(Object(m.a)(Object(m.a)({},n),{},{email:"",password:"",error:"",loading:"",didRedirect:!0}))}))})).catch((function(e){return Object(o.b)("SignIn Failed, Please check your Details",{type:"error"})}))},className:"auth-button",children:"SignIn"})]}),Object(j.jsxs)("p",{className:"auth-text",children:["Didn't have an account?"," ",Object(j.jsxs)("span",{onClick:function(){e("/signup")},className:"auth-span",children:[" ","SignUp here"]})]}),function(){if(h)return p&&1===p.role?e("/admin/dashboard"):(console.log("COMEON"),e("/user/dashboard"));d()&&(console.log("GO GO"),e("/"))}()]})},S=c(14),k=function(){var e=Object(i.g)(),t=Object(a.useState)({name:"",email:"",password:"",error:"",success:!1}),c=Object(l.a)(t,2),n=c[0],r=c[1],s=n.name,d=n.email,u=n.password,h=function(e){return function(t){r(Object(m.a)(Object(m.a)({},n),{},Object(g.a)({error:!1},e,t.target.value)))}},p=function(t){var c;t.preventDefault(),r(Object(m.a)(Object(m.a)({},n),{},{error:!1})),(c={name:s,email:d,password:u},fetch("/api/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(t){t.error?(r(Object(m.a)(Object(m.a)({},n),{},{error:t.error,success:!1})),Object(o.b)(t.error,{type:"error"})):(r({name:"",email:"",password:"",error:"",success:!0}),Object(o.b)("Signup Successful, Please signin",{type:"success"}),e("/signin"))})).catch((function(e){return console.log("Error in SignUp",e)}))};return Object(j.jsxs)(b,{title:"Signup Page",className:"body",children:[Object(j.jsxs)("form",{className:"auth-card",children:[Object(j.jsx)("h2",{children:"SignUp"}),Object(j.jsxs)("div",{className:"auth-helper",children:[Object(j.jsx)("label",{className:"auth-labels",children:"Name"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{onChange:h("name"),className:"auth-inputs prfl",type:"text",required:!0,value:s}),Object(j.jsx)(S.a,{className:"auth-icons"})]}),Object(j.jsxs)("div",{className:"auth-helper",children:[Object(j.jsx)("label",{className:"auth-labels",children:"Email"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{onChange:h("email"),className:"auth-inputs",type:"email",required:!0,value:d}),Object(j.jsx)(N.a,{className:"auth-icons"})]}),Object(j.jsxs)("div",{className:"auth-helper",children:[Object(j.jsx)("label",{className:"auth-labels",children:"Password"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{onChange:h("password"),className:"auth-inputs",type:"password",required:!0,value:u}),Object(j.jsx)(v.a,{className:"auth-icons"})]}),Object(j.jsx)("button",{onClick:p,className:"auth-button",children:"SignUp"})]}),Object(j.jsxs)("p",{className:"auth-text",children:["Already an User?"," ",Object(j.jsxs)("span",{onClick:function(){e("/signin")},className:"auth-span",children:[" ","SignIn here"]})]})]})},C=(c(25),function(){var e=d().user,t=e.name,c=e.email;return Object(j.jsx)(b,{title:"AdminDashBoard",description:"Welcome! Manage your Products and Categories",children:Object(j.jsx)("div",{className:"middle-section",children:Object(j.jsxs)("div",{className:"admin-card",children:[Object(j.jsxs)("div",{className:"admin-left",children:[Object(j.jsx)("h2",{children:"Admin Navigation"}),Object(j.jsxs)("ul",{className:"admin-list",children:[Object(j.jsx)("li",{className:"admin-item",children:Object(j.jsx)(s.b,{className:"admin-link",to:"/admin/category/create",children:"Create Categories"})}),Object(j.jsx)("li",{className:"admin-item",children:Object(j.jsx)(s.b,{className:"admin-link",to:"/admin/categories",children:"Manage Categories"})}),Object(j.jsx)("li",{className:"admin-item",children:Object(j.jsx)(s.b,{className:"admin-link",to:"/admin/product/create",children:"Create products"})}),Object(j.jsx)("li",{className:"admin-item",children:Object(j.jsx)(s.b,{className:"admin-link",to:"/admin/orders",children:"Manage Orders"})}),Object(j.jsx)("li",{className:"admin-item",children:Object(j.jsx)(s.b,{className:"admin-link",to:"/admin/products",children:"Manage products"})})]})]}),Object(j.jsxs)("div",{className:"admin-right",children:[Object(j.jsx)("h2",{children:"Admin Information"}),Object(j.jsxs)("ul",{className:"admin-info-list",children:[Object(j.jsx)("li",{className:"admin-info-item",children:Object(j.jsxs)("p",{className:"admin-info",children:[Object(j.jsx)("span",{className:"admin-span",children:"Name:"})," ",t]})}),Object(j.jsx)("li",{className:"admin-info-item",children:Object(j.jsxs)("p",{className:"admin-info",children:[Object(j.jsx)("span",{className:"admin-span",children:"Email:"})," ",c]})}),Object(j.jsx)("li",{className:"admin-info-item",children:Object(j.jsx)("p",{className:"admin-info",children:Object(j.jsx)("span",{className:"admin-span-2",children:"Admin Info"})})})]})]})]})})})}),A=function(){var e=d().user,t=e.name,c=e.email;return Object(j.jsx)(b,{title:"User DashBoard",description:"Welcome! view your profile here",children:Object(j.jsx)("div",{className:"middle-section",children:Object(j.jsxs)("div",{className:"admin-card",children:[Object(j.jsxs)("div",{className:"admin-left",children:[Object(j.jsx)("h2",{children:"User Navigation"}),Object(j.jsxs)("ul",{className:"admin-list",children:[Object(j.jsx)("li",{className:"admin-item",children:Object(j.jsx)(s.b,{className:"admin-link",to:"/user/update",children:"Update Profile"})}),Object(j.jsx)("li",{className:"admin-item",children:Object(j.jsx)(s.b,{className:"admin-link",to:"/user/orders",children:"My Orders"})})]})]}),Object(j.jsxs)("div",{className:"admin-right",children:[Object(j.jsx)("h2",{children:"User Information"}),Object(j.jsxs)("ul",{className:"admin-info-list",children:[Object(j.jsxs)("li",{className:"admin-info-item",children:[Object(j.jsx)(S.a,{className:"info"}),t]}),Object(j.jsxs)("li",{className:"admin-info-item",children:[Object(j.jsx)(N.a,{className:"info"}),c]}),Object(j.jsx)("li",{className:"admin-info-item",children:Object(j.jsx)("p",{className:"admin-info",children:Object(j.jsx)("span",{className:"admin-span-2",children:"User Info"})})})]})]})]})})})},w=function(e){var t=e.children;return d()?t:Object(j.jsx)(i.a,{to:"/signin"})},P=function(e){var t=e.children;return d()&&1===d().user.role?t:Object(j.jsx)(i.a,{to:"/signin"})},D=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],r=d(),i=r.user,u=r.token,m=function(e){n(e.target.value)},h=function(e){e.preventDefault(),function(e,t,c){return fetch("/api/category/create/".concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(i._id,u,{name:c}).then((function(e){return e.error?Object(o.b)(e.error,{type:"warning"}):Object(o.b)("Catgeory added Succefully",{type:"success"})}))};return Object(j.jsx)(b,{title:"Create Catgeory",description:"Add more categories below",children:Object(j.jsx)("div",{className:"middle-section",children:Object(j.jsx)("div",{className:"catgeory-section",children:Object(j.jsxs)("form",{className:"category-form",children:[Object(j.jsx)("p",{className:"category-label",children:"Add Category"}),Object(j.jsx)("input",{className:"category-input",type:"text",placeholder:"For Ex: Summer",onChange:m,value:c}),Object(j.jsx)("br",{}),Object(j.jsxs)("span",{children:[Object(j.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"}),Object(j.jsx)("button",{onClick:h,className:"category-button",children:"ADD"})]})]})})})})},E=c(11),I=function(){var e=Object(E.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=d(),r=n.user,i=n.token,u=function(){O().then((function(e){e.error?console.log(e.error):a(e)}))};Object(E.useEffect)((function(){u()}),[]);var m=function(e){(function(e,t,c){return fetch("/api/category/".concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))})(e,r._id,i).then((function(e){e.error?(console.log(e.error),Object(o.b)("Category Delete Failed!!",{type:"error"})):(Object(o.b)("Category Deleted Succesfully",{type:"success"}),u())}))};return Object(j.jsx)(b,{title:"Manage Categories",description:"View and manage your categories",children:Object(j.jsxs)("div",{className:"categories-section",children:[Object(j.jsx)("h2",{children:"All Categories"}),Object(j.jsx)("div",{className:"categories-container",children:c&&c.map((function(e,t){return Object(j.jsxs)("div",{className:"category-card",children:[Object(j.jsxs)("p",{className:"category-name",children:[Object(j.jsx)("span",{children:"Category Name: "}),e.name]}),Object(j.jsxs)("div",{className:"category-buttons",children:[Object(j.jsx)(s.b,{to:"/admin/update/category/".concat(e._id),className:"button",children:"Update"}),Object(j.jsx)("button",{onClick:function(){return m(e._id)},className:"button",children:"Delete"})]})]},t)}))}),Object(j.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"})]})})},T=function(){var e=d(),t=e.user,c=e.token,n=Object(i.g)(),r=Object(a.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",loading:!1,error:"",createdProduct:"",getRedirect:!1,formData:new FormData}),u=Object(l.a)(r,2),h=u[0],p=u[1],x=h.name,f=h.description,N=h.price,v=h.stock,y=h.categories,S=h.getRedirect,k=h.formData;Object(a.useEffect)((function(){O().then((function(e){e.error?p(Object(m.a)(Object(m.a)({},h),{},{error:e.error})):p(Object(m.a)(Object(m.a)({},h),{},{categories:e}))}))}),[]);var C=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;k.set(e,c),p(Object(m.a)(Object(m.a)({},h),{},Object(g.a)({error:!1,getRedirect:!1},e,c)))}},A=function(e){e.preventDefault(),p(Object(m.a)(Object(m.a)({},h),{},{loading:!0,getRedirect:!1})),function(e,t,c){return fetch("/api/product/create/".concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,c,k).then((function(e){e.error?(p(Object(m.a)(Object(m.a)({},h),{},{error:e.error,loading:!1})),Object(o.b)("Product Added Failed",{type:"error"})):p(Object(m.a)(Object(m.a)({},h),{},{name:"",description:"",stock:"",price:"",category:"",loading:!1,createdProduct:e.name,photo:"",getRedirect:!0}))}))};return Object(j.jsx)(b,{title:"Create Products",description:"add new and cool products",children:Object(j.jsxs)("div",{className:"middle-section",children:[void(S&&(Object(o.b)("Product Added Succesfully",{type:"success"}),setTimeout((function(){return n("/admin/dashboard")}),4e3))),Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsxs)("form",{className:"product-form",children:[Object(j.jsx)("h2",{children:"Add a new Product"}),Object(j.jsxs)("div",{className:"product-form-container",children:[Object(j.jsx)("input",{className:"product-form-image-input",id:"product-image",type:"file",name:"image",placeholder:"Choose a file",accept:"image",onChange:C("photo")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"product-form-input",placeholder:"Product Name",value:x,type:"text",onChange:C("name")}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{name:"Description",className:"text-area product-form-input",value:f,placeholder:"description",onChange:C("description")}),Object(j.jsx)("br",{}),Object(j.jsxs)("select",{onChange:C("category"),className:"product-form-input",children:[Object(j.jsx)("option",{children:"Select"}),y&&y.map((function(e,t){return Object(j.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(j.jsx)("input",{type:"number",className:"product-form-input",placeholder:"Price",value:N,onChange:C("price")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"number",placeholder:"stock",className:"product-form-input",value:v,onChange:C("stock")}),Object(j.jsx)("button",{onClick:A,className:"category-button btn",children:"Add Product"})]})]}),Object(j.jsx)(s.b,{className:"category-button btn",to:"/admin/dashboard",children:"Back to Dashboard"})]})]})})},U=function(){var e=Object(E.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=d(),r=n.user,i=n.token,u=function(){x().then((function(e){e.error?console.log(e.error):a(e)}))};Object(E.useEffect)((function(){u()}),[]);var m=function(e){(function(e,t,c){return fetch("/api/product/".concat(e,"/").concat(t),{method:"Delete",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,r._id,i).then((function(e){e.error?(console.log(e.error),Object(o.b)("product Delete Failed!!",{type:"error"})):(Object(o.b)("Product Deleted Succesfully",{type:"success"}),u())}))};return Object(j.jsx)(b,{title:"Manage your Products",description:"customize and update your products",children:Object(j.jsxs)("div",{className:"products-section",children:[Object(j.jsx)("h2",{children:"All Products"}),Object(j.jsx)("div",{className:"products-container",children:c&&c.map((function(e,t){return Object(j.jsxs)("div",{className:"product-card",children:[Object(j.jsx)("div",{className:"product-photo-div",children:Object(j.jsx)("img",{alt:"product",src:"/api/products/photo/".concat(e._id)})}),Object(j.jsxs)("div",{className:"product-details",children:[Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Name: "}),e.name]}),Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Description: "}),e.description]}),Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Stock: "}),e.stock]}),Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Price: "}),e.price]})]}),Object(j.jsxs)("div",{className:"product-buttons",children:[Object(j.jsx)(s.b,{to:"/admin/update/product/".concat(e._id),className:" product-button",children:"Update"}),Object(j.jsx)("button",{onClick:function(){return m(e._id)},className:" product-button",children:"Delete"})]})]},t)}))}),Object(j.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"})]})})},B=function(e){e.match;var t=d(),c=t.user,n=t.token,r=Object(i.g)(),u=Object(a.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",loading:!1,error:"",createdProduct:"",getRedirect:!1,formData:new FormData}),h=Object(l.a)(u,2),p=h[0],x=h[1],f=Object(i.h)().productId,N=p.name,v=p.description,y=p.price,S=p.stock,k=p.categories,C=p.getRedirect,A=p.formData,w=function(e){(function(e){return fetch("/api/products/".concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?x(Object(m.a)(Object(m.a)({},p),{},{error:e.error})):(P(),x(Object(m.a)(Object(m.a)({},p),{},{name:e.name,description:e.description,stock:e.stock,price:e.price,category:e.category,categories:e.categories,formData:new FormData})))}))},P=function(){O().then((function(e){e.error?x(Object(m.a)(Object(m.a)({},p),{},{error:e.error})):x({categories:e,formData:new FormData})}))};Object(a.useEffect)((function(){w(f)}),[]);var D=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;A.set(e,c),x(Object(m.a)(Object(m.a)({},p),{},Object(g.a)({error:!1,getRedirect:!1},e,c)))}},E=function(e){e.preventDefault(),x(Object(m.a)(Object(m.a)({},p),{},{loading:!0,getRedirect:!1})),function(e,t,c,a){return fetch("/api/product/".concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(f,c._id,n,A).then((function(e){console.log(e),e.error?(x(Object(m.a)(Object(m.a)({},p),{},{error:e.error,loading:!1})),Object(o.b)("Product Update Failed",{type:"error"})):x(Object(m.a)(Object(m.a)({},p),{},{name:"",description:"",stock:"",price:"",category:"",loading:!1,createdProduct:e.name,photo:"",getRedirect:!0}))}))};return Object(j.jsx)(b,{title:"Update Products",description:"update and customize products",children:Object(j.jsxs)("div",{className:"middle-section",children:[void(C&&(Object(o.b)("Product Added Succesfully",{type:"success"}),setTimeout((function(){return r("/admin/dashboard")}),4e3))),Object(j.jsxs)("form",{className:"product-form",children:[Object(j.jsx)("h2",{children:"Update The Product"}),Object(j.jsxs)("div",{className:"product-form-container",children:[Object(j.jsx)("input",{className:"product-form-image-input",id:"product-image",type:"file",name:"image",placeholder:"Choose a file",accept:"image",onChange:D("photo")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"product-form-input",placeholder:"Product Name",value:N,type:"text",onChange:D("name")}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{name:"Description",className:"text-area product-form-input",value:v,placeholder:"description",onChange:D("description")}),Object(j.jsx)("br",{}),Object(j.jsxs)("select",{onChange:D("category"),className:"product-form-input",children:[Object(j.jsx)("option",{children:"Select"}),k&&k.map((function(e,t){return Object(j.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(j.jsx)("input",{type:"number",className:"product-form-input",placeholder:"Price",value:y,onChange:D("price")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"number",placeholder:"stock",className:"product-form-input",value:S,onChange:D("stock")}),Object(j.jsx)("button",{onClick:E,className:"category-button btn",children:"Update Product"})]}),Object(j.jsx)(s.b,{className:"category-button",to:"/admin/dashboard",children:"Back to Dashboard"})]})]})})},_=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(i.h)().categoryId,u=d(),m=u.user,h=u.token,p=Object(i.g)(),O=function(e){n(e.target.value)},x=function(e){(function(e){return fetch("/api/category/".concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?console.log(e.error):(console.log(e),n(e.name))}))};Object(a.useEffect)((function(){x(r)}),[]);var f=function(e){e.preventDefault(),n(c),function(e,t,c,a){return fetch("/api/category/".concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(r,m._id,h,{name:c}).then((function(e){if(e.error)return Object(o.b)(e.error,{type:"error"});n(""),Object(o.b)("Catgeory updated Succefully",{type:"success"}),p("/admin/categories")}))};return Object(j.jsx)(b,{title:"Update Catgeory",description:"Update the category below",children:Object(j.jsx)("div",{className:"middle-section",children:Object(j.jsx)("div",{className:"catgeory-section",children:Object(j.jsxs)("form",{className:"category-form",children:[Object(j.jsx)("p",{className:"category-label",children:"Update Category"}),Object(j.jsx)("input",{className:"category-input",type:"text",placeholder:"For Ex: Summer",onChange:O,value:c}),Object(j.jsx)("br",{}),Object(j.jsxs)("span",{children:[Object(j.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"}),Object(j.jsx)("button",{onClick:f,className:"category-button",children:"Update"})]})]})})})})},R=c(18),J=c.n(R),F=c.p+"static/media/empty.735c15b1.png",z=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),u=i[0],m=i[1],p=d()&&d().token,O=d()&&d().user._id;Object(a.useEffect)((function(){n(h())}),[]),Object(a.useEffect)((function(){n(h())}),[u]);var x=function(e){console.log("REMOVE ITEM"),function(e){var t=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart")));for(var c=0;c<t.length;c++)t[c]._id===e&&t.splice(c,1);localStorage.setItem("cart",JSON.stringify(t))}}(e),m(!u)},f=function(){var e=0;return c.forEach((function(t){e+=t.price})),e},g=function(e){console.log(e);var t={token:e,products:c};return fetch("/api/stripepayment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json().then((function(e){var t;t=function(){console.log("Cart Emptied")},void 0!==typeof window&&localStorage.getItem("cart")&&(localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify([])),t()),Object(o.b)("Order Placed Succesfully !!",{type:"success"});var a={transaction_id:e.id,products:c,amount:e.amount,user:O};!function(e,t,c){fetch("/api/order/create/".concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})})}(O,p,a),m(!u)}))}))};return Object(j.jsx)(b,{title:"Cart",description:"Checkout your Orders",children:Object(j.jsx)("div",{className:"cart-section",children:c.length?Object(j.jsxs)("div",{className:"cart-section",children:[Object(j.jsxs)("div",{className:"orders",children:[c&&c.map((function(e,t){return Object(j.jsxs)("div",{className:"cart-card",children:[Object(j.jsxs)("div",{className:"helper",children:[Object(j.jsx)("div",{className:"cart-card-image-div",children:Object(j.jsx)("img",{alt:"product",src:"/api/products/photo/".concat(e._id)})}),Object(j.jsxs)("div",{className:"cart-card-details",children:[Object(j.jsx)("h2",{className:"cart-card-name",children:e.name}),Object(j.jsxs)("p",{className:"cart-card-description",children:[Object(j.jsx)("span",{className:"cart-card-span",children:"Description: "}),e.description]})]})]}),Object(j.jsxs)("div",{className:"cart-card-buttons",children:[Object(j.jsxs)("p",{className:"cart-card-price",children:[e.price,"/-"]}),Object(j.jsxs)("button",{onClick:function(){return x(e._id)},className:"card-buttons cart-card-button",children:["Remove",Object(j.jsx)("span",{children:"h"}),"Item"]})]})]},t)})),Object(j.jsx)(s.b,{to:"/",className:"category-button",children:"Add More"})]}),Object(j.jsxs)("div",{className:"checkout-card",children:[Object(j.jsx)("h2",{children:"Your Order"}),Object(j.jsx)("p",{className:"checkout-summary",children:"Order Summary"}),Object(j.jsxs)("div",{className:"checkout-items",children:[Object(j.jsxs)("div",{className:"checkout-item",children:[Object(j.jsx)("p",{children:"Total Items: "}),Object(j.jsx)("span",{children:c.length})]}),Object(j.jsxs)("div",{className:"checkout-item",children:[Object(j.jsx)("p",{children:"Total Amount: "}),Object(j.jsxs)("span",{children:["Rs. ",f()]})]})]}),Object(j.jsx)(J.a,{stripeKey:"".concat("pk_test_51K1PubSD7AAz9aiNiXsV1I2BloumO8v138fPpHs6mseVQ8vWXakmIA3GbxPGYLCbZmPXIvOxp6eIHYXFHH1K1Vg8006Q3iAmDy"),token:g,shippingAddress:!0,billingAddress:!0,amount:100*f(),name:"Buy T-shirts",children:Object(j.jsx)("button",{className:"category-button",children:"Proceed to Pay"})})]})]}):Object(j.jsxs)("div",{className:"empty-cart-div",children:[Object(j.jsx)("div",{className:"empty-cart-img-div",style:{margin:"0 auto",textAlign:"center"},children:Object(j.jsx)("img",{alt:"product",src:F})}),Object(j.jsx)(s.b,{style:{margin:"0 auto"},className:"category-button",to:"/",children:"Buy Products"})]})})})},M=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=d(),i=r.user,u=r.token,m=function(){(function(e,t){return fetch("/api/order/all/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(i._id,u).then((function(e){e.error?Object(o.b)(e.error,{type:"error"}):n(e)}))};Object(a.useEffect)((function(){m()}),[]);return Object(j.jsx)(b,{title:"All Orders",description:"manage and deliver the orders",children:Object(j.jsxs)("div",{className:"products-section",children:[Object(j.jsx)("h2",{children:"All Orders"}),Object(j.jsx)("div",{children:c&&c.map((function(e,t){return Object(j.jsx)("div",{className:"orders-container",children:e.products.map((function(t,c){return Object(j.jsxs)("div",{className:"order-card",children:[Object(j.jsx)("div",{className:"product-photo-div",children:Object(j.jsx)("img",{alt:"product",src:"/api/products/photo/".concat(t._id)})}),Object(j.jsxs)("div",{className:"product-details",children:[Object(j.jsx)("p",{className:"order-detail product-detail",children:Object(j.jsx)("span",{className:"product-property",children:t.name})}),Object(j.jsx)("p",{className:"order-detail product-detail",children:Object(j.jsxs)("span",{className:"product-property",children:["Rs. ",e.amount]})})]}),Object(j.jsxs)("div",{className:"delivery-details",children:[Object(j.jsx)("span",{className:"order-delivery",children:"Estimated Delivery: 18 dec 2021"}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{children:"This item has been shipped recently"})]})]},c)}))},t)}))}),Object(j.jsx)(s.b,{to:"/admin/dashboard",className:"category-button",children:"Back"})]})})};function G(){var e=d(),t=e.user,c=e.token,n=Object(i.g)(),r=Object(a.useState)({name:"",lastname:"",email:""}),s=Object(l.a)(r,2),u=s[0],h=s[1],p=u.name,O=u.lastname,x=u.email,f=function(){(function(e,t){return fetch("/api/user/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t._id,c).then((function(e){e.error?Object(o.b)(e.error,{type:"error"}):h(Object(m.a)(Object(m.a)({},u),{},{name:e.name,lastname:e.lastname,email:e.email}))}))};Object(a.useEffect)((function(){f()}),[]);var N=function(e){return function(t){h(Object(m.a)(Object(m.a)({},u),{},Object(g.a)({},e,t.target.value)))}},v=function(){h(Object(m.a)({},u)),function(e,t,c){return fetch("/api/user/update/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"},body:JSON.stringify(c)}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))}(t._id,c,u).then((function(e){e.error?Object(o.b)(e.error,{type:"error"}):(h(Object(m.a)(Object(m.a)({},u),{},{name:"",lastname:"",email:""})),Object(o.b)("Profile Updated Successfully!!",{type:"success"}),n("/user/dashboard"))}))};return Object(j.jsx)(b,{title:"Profile",description:"Edit your personal Information",children:Object(j.jsx)("div",{className:"profile-container",children:Object(j.jsxs)("div",{className:"profile-card",children:[Object(j.jsxs)("div",{className:"profile-inputs-div",children:[Object(j.jsx)("label",{children:"FirstName"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{value:p,onChange:N("name"),className:"profile-input",type:"text",required:!0})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"LastName"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{value:O,onChange:N("lastname"),className:"profile-input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"profile-email",children:[Object(j.jsx)("label",{children:"Email ID"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{value:x,onChange:N("email"),className:"profile-input",type:"email",required:!0})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:v,className:"category-button",children:"Update"})})]})})})}var q=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],r=d(),i=r.user,u=r.token,m=function(){(function(e,t){return fetch("/api/user/orders/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(i._id,u).then((function(e){e.error?(Object(o.b)(e.error,{type:"error"}),console.log("USER ORDERS ERROR")):n(e)}))};Object(a.useEffect)((function(){m()}),[]);return Object(j.jsx)(b,{title:"My Orders",description:"manage and deliver the orders",children:c.length?Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"products-section",children:[Object(j.jsx)("h2",{children:"My Orders"}),Object(j.jsx)("div",{children:c&&c.map((function(e,t){return Object(j.jsx)("div",{className:"orders-container",children:e.products.map((function(t,c){return Object(j.jsxs)("div",{className:"order-card",children:[Object(j.jsx)("div",{className:"order-photo-div",children:Object(j.jsx)("img",{alt:"product",src:"/api/products/photo/".concat(t._id)})}),Object(j.jsxs)("div",{className:"order-product-details",children:[Object(j.jsx)("p",{className:"order-detail product-detail",children:Object(j.jsx)("span",{className:"product-property",children:t.name})}),Object(j.jsx)("p",{className:"order-detail product-detail",children:Object(j.jsxs)("span",{className:"product-property",children:["Rs. ",e.amount]})})]}),Object(j.jsxs)("div",{className:"delivery-details",children:[Object(j.jsx)("span",{className:"order-delivery",children:"Estimated Delivery: 18 dec 2021"}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{children:"This item has been shipped recently"})]})]},c)}))},t)}))}),Object(j.jsx)(s.b,{to:"/user/dashboard",className:"category-button",children:"Back"})]})}):Object(j.jsxs)("div",{className:"empty-cart-div",children:[Object(j.jsx)("div",{className:"empty-cart-img-div",style:{margin:"0 auto",textAlign:"center"},children:Object(j.jsx)("img",{alt:"product",src:F})}),Object(j.jsx)(s.b,{style:{margin:"0 auto"},className:"category-button",to:"/",children:"Buy Products"})]})})};function H(){return Object(j.jsxs)(s.a,{children:[Object(j.jsx)(o.a,{theme:"dark"}),Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/",element:Object(j.jsx)(f,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/signup",element:Object(j.jsx)(k,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/signin",element:Object(j.jsx)(y,{})}),Object(j.jsx)(i.b,{path:"/cart",element:Object(j.jsx)(w,{children:Object(j.jsx)(z,{})})}),Object(j.jsx)(i.b,{path:"/user/dashboard",element:Object(j.jsx)(w,{children:Object(j.jsx)(A,{})})}),Object(j.jsx)(i.b,{path:"/user/update",element:Object(j.jsx)(w,{children:Object(j.jsx)(G,{})})}),Object(j.jsx)(i.b,{path:"/user/orders",element:Object(j.jsx)(w,{children:Object(j.jsx)(q,{})})}),Object(j.jsx)(i.b,{path:"/admin/dashboard",element:Object(j.jsx)(P,{children:Object(j.jsx)(C,{})})}),Object(j.jsx)(i.b,{path:"/admin/category/create",element:Object(j.jsx)(P,{children:Object(j.jsx)(D,{})})}),Object(j.jsx)(i.b,{path:"/admin/categories",element:Object(j.jsx)(P,{children:Object(j.jsx)(I,{})})}),Object(j.jsx)(i.b,{path:"/admin/product/create",element:Object(j.jsx)(P,{children:Object(j.jsx)(T,{})})}),Object(j.jsx)(i.b,{path:"/admin/products",element:Object(j.jsx)(P,{children:Object(j.jsx)(U,{})})}),Object(j.jsx)(i.b,{path:"/admin/update/product/:productId",element:Object(j.jsx)(P,{children:Object(j.jsx)(B,{})})}),Object(j.jsx)(i.b,{path:"/admin/update/category/:categoryId",element:Object(j.jsx)(P,{children:Object(j.jsx)(_,{})})}),Object(j.jsx)(i.b,{path:"/admin/orders",element:Object(j.jsx)(P,{children:Object(j.jsx)(M,{})})})]})]})}c(29).config(),r.a.render(Object(j.jsx)(H,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.de0a8fb1.chunk.js.map